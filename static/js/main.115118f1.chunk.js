(this["webpackJsonppanner-practice"]=this["webpackJsonppanner-practice"]||[]).push([[0],{15:function(e,t,n){e.exports=n(25)},25:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),c=n.n(o),i=n(13),s=n(2),u=n(3),l=n(1),p=n.n(l),f=n(4);function d(){return(d=Object(f.a)(p.a.mark((function e(){var t,n,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new window.AudioContext,e.next=3,h(t,"./sample.mp3");case 3:return n=e.sent,a=new window.AudioBufferSourceNode(t,{buffer:n,loop:!0}),r=new window.PannerNode(t,{panningModel:"HRTF"}),a.connect(r).connect(t.destination),t.suspend(),a.start(),e.abrupt("return",{ctx:t,source:a,panner:r});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){return m.apply(this,arguments)}function m(){return(m=Object(f.a)(p.a.mark((function e(t,n){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:return a=e.sent,e.next=5,a.arrayBuffer();case 5:return r=e.sent,e.abrupt("return",t.decodeAudioData(r));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=n(5);function y(){var e=Object(u.a)(["\n  margin-right: 8px;\n"]);return y=function(){return e},e}function x(){var e=Object(u.a)(["\n  display: flex;\n"]);return x=function(){return e},e}var b=w.a.div(x()),v=w.a.div(y());var E=function(){var e=Object(a.useState)({pos:{x:250,y:250},rotation:0}),t=Object(s.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)({x:250,y:0}),u=Object(s.a)(c,1)[0],l=Object(a.useState)(),p=Object(s.a)(l,2),f=p[0],h=p[1];return Object(a.useEffect)((function(){(function(){return d.apply(this,arguments)})().then(h)}),[]),Object(a.useEffect)((function(){if(f){var e=function(e,t,n,a,r){var o=Math.PI/180*r,c=Math.cos(o),i=Math.sin(o);return{x:c*(n-e)+i*(a-t)+e,y:c*(a-t)-i*(n-e)+t}}(n.pos.x,n.pos.y,u.x,u.y,n.rotation),t=e.x-n.pos.x,a=e.y-n.pos.y;f.panner.setPosition(.05*t,.05*-a,0)}}),[f,n,u]),r.a.createElement("div",{className:"App",onKeyDown:function(e){switch(console.log("e.key",e.key),e.key){case"ArrowUp":n.pos.y-=2;break;case"ArrowDown":n.pos.y+=2;break;case"ArrowLeft":n.pos.x-=2;break;case"ArrowRight":n.pos.x+=2;break;case"z":n.rotation=(n.rotation-4+360)%360;break;case"x":n.rotation=(n.rotation+4+360)%360}o(Object(i.a)({},n))},tabIndex:0},r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){f&&f.ctx.resume()}},"Play"),r.a.createElement("button",{onClick:function(){f&&f.ctx.suspend()}},"Stop")),r.a.createElement(b,null,r.a.createElement(v,null,r.a.createElement("svg",{viewBox:"0, 0, ".concat(500,", ").concat(500),style:{width:700}},r.a.createElement("rect",{x:0,y:0,width:500,height:500,stroke:"#555",strokeWidth:1,fillOpacity:0}),r.a.createElement("g",{transform:"translate(".concat(n.pos.x,", ").concat(n.pos.y,") rotate(").concat(n.rotation,")")},r.a.createElement("polygon",{points:"-4,-6 0,-12 4,-6",fill:"black"}),r.a.createElement("circle",{cx:0,cy:0,r:4,fill:"black"})),r.a.createElement("g",{transform:"translate(".concat(u.x,", ").concat(u.y,")")},r.a.createElement("rect",{x:-10,y:-5,width:20,height:10})))),r.a.createElement("div",null,r.a.createElement("h3",null,"Usage"),r.a.createElement("p",null,"Move: Left, Right, Top, Botton"),r.a.createElement("p",null,"Rotate: Z, X"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.115118f1.chunk.js.map